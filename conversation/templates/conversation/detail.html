{% extends 'app002/base.html' %}

{% block title %} Conversation detail {% endblock %}

{% block content %}

<div class="block lg:hidden">
    <h1 class="mb-3 mt-3 text-xl text-center text-white py-2 border rounded-lg bg-gray-500" style="margin-left: 5%; width: 90%;;">Chat</h1>
     <div class="space-y-1">
          {% for message in conversation.messages.all %}
             <div style="width: 90%; margin-left: 5%;" class="p-2 flex  rounded-lg">
                  {% if message.created_by == request.user %}
                  <div class="w-full bg-blue-100 px-3 rounded-lg">
                      <div class="grid grid-cols-2 gap-0" style="grid-template-columns: 60% 40%;">
                            <span></span>
                            <span class="mb-1 text-right pt-1 pb-0"><strong>@{{ message.created_by.username }}</strong></span>
                      </div>
                      <p class="pt-0 pb-0">{{ message.content }}</p>
                      <div class="grid grid-cols-2" style="grid-template-columns: 60% 40%;">
                         <span class="text-left pt-1 text-sm">| {{ message.created_at }}</span>
                         <span></span>
                      </div>
                  </div>
                  {% else %}
                  <div class="w-full bg-gray-100 py-1 px-3 rounded-lg">
                      <div class="grid grid-cols-2" style="grid-template-columns: 60% 40%;">
                            <span class="mb-1 text-left"><strong>@{{ message.created_by.username }}</strong></span>
                            <span></span>
                      </div>
                      <p> {{ message.content }} </p>
                      <div class="grid grid-cols-2" style="grid-template-columns: 40% 60%;">
                         <span></span>
                         <span class="text-right pt-1 text-sm">| {{ message.created_at }}</span>
                      </div>
                  </div>
                  {% endif %}
              </div>
          {% endfor %}
     </div>

    <form method="post" action="." class="mt-3" style="width: 90%; margin-left: 5%;">
        {% csrf_token %}
        {{ form.as_p }}
        <button class="py-2 px-6 mb-6 text-lg rounded-lg text-white bg-yellow-700 hover:bg-yellow-200 hover:text-black">Send</button>
    </form>
</div>



<!-----------------------------------  LG AND XL RESPONSIVE DESIGN------------------------------------->
<div class="hidden lg:block">
    <h1 class="mb-6 mt-6 text-2xl text-center text-white py-4 border rounded-xl bg-gray-500" style="margin-left: 15%; width: 70%;;">Chat</h1>
     <div class="space-y-1">
          {% for message in conversation.messages.all %}
             <div style="width: 70%; margin-left: 15%;" class="p-2 flex  rounded-xl ">
                  {% if message.created_by == request.user %}
                  <div class="w-full bg-blue-100 px-6 rounded-xl">
                      <div class="grid grid-cols-2 gap-0" style="grid-template-columns: 80% 20%;">
                            <span></span>
                            <span class="mb-4 text-right pt-2 pb-0"><strong>@{{ message.created_by.username }}</strong></span>
                      </div>
                      <p class="pt-0 pb-1">{{ message.content }}</p>
                      <div class="grid grid-cols-2" style="grid-template-columns: 30% 70%;">
                         <span class="text-left pb-2 pt-2">| {{ message.created_at }}</span>
                         <span></span>
                      </div>
                  </div>
                  {% else %}
                  <div class="w-full bg-gray-100 py-2 px-6 rounded-xl">
                      <div class="grid grid-cols-2" style="grid-template-columns: 80% 20%;">
                            <span class="mb-4 text-left"><strong>@{{ message.created_by.username }}</strong></span>
                            <span></span>
                      </div>
                      <p> {{ message.content }} </p>
                      <div class="grid grid-cols-2" style="grid-template-columns: 70% 30%;">
                         <span></span>
                         <span class="text-right">| {{ message.created_at }}</span>
                      </div>
                  </div>
                  {% endif %}
              </div>
          {% endfor %}
     </div>

    <form method="post" action="." class="mt-6" style="width: 70%; margin-left: 15%;">
        {% csrf_token %}
        {{ form.as_p }}
        <button class="py-3 px-6 mb-6 text-lg rounded-xl text-white bg-yellow-700 hover:bg-yellow-200 hover:text-black">Send</button>
    </form>
</div>
{% endblock %}